import{l as R,e as V,a as b,t as C}from"../chunks/disclose-version.DCkbIfqA.js";import{aC as S,p as A,aD as k,t as B,a as H,V as o,c as h,s as x,ad as f,r as p,f as D,aB as F}from"../chunks/runtime.Czdykb1Z.js";import{h as I}from"../chunks/svelte-head.4KZ3pIxb.js";import{i as L,p as U,a as u}from"../chunks/props.BpC4Kkai.js";import{s as X,a as j}from"../chunks/store.BXue1s6C.js";import{p as z}from"../chunks/stores.PHzUWCX-.js";import{g as G}from"../chunks/entry.ID63E7i9.js";import{H as J}from"../chunks/HomeButton.C-aczhoK.js";import{a as E,g as K,b as d}from"../chunks/allEngines.iOzszGTk.js";import{s as w}from"../chunks/render.DeLztCL8.js";import{e as P,i as Q}from"../chunks/each.D6u9nQTM.js";import{s as T}from"../chunks/attributes.yBAKYnge.js";import{o as W}from"../chunks/index-client.C6Ltu-Lh.js";function M(e,n,a){if(e.multiple)return ee(e,n);for(var r of e.options){var t=_(r);if(L(t,n)){r.selected=!0;return}}(!a||n!==void 0)&&(e.selectedIndex=-1)}function Y(e,n){S(()=>{var a=new MutationObserver(()=>{var r=e.__value;M(e,r)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Z(e,n,a=n){var r=!0;R(e,"change",()=>{var t;if(e.multiple)t=[].map.call(e.querySelectorAll(":checked"),_);else{var s=e.querySelector(":checked");t=s&&_(s)}a(t)}),S(()=>{var t=n();if(M(e,t,r),r&&t===void 0){var s=e.querySelector(":checked");s!==null&&(t=_(s),a(t))}e.__value=t,r=!1}),Y(e)}function ee(e,n){for(var a of e.options)a.selected=~n.indexOf(_(a))}function _(e){return"__value"in e?e.__value:e.value}var ae=(e,n,a)=>n.onEngineChange(o(a)),te=C("<option> </option>"),ne=C('<div class="comparison-box svelte-16n8st1"><select></select> <h1 class="engine-name svelte-16n8st1"> </h1> <img alt="" class="svelte-16n8st1"></div>');function N(e,n){A(n,!0);let a=U(n,"engine",7);a()||a(E());let r=k(u(a().stats.name));const t=K();var s=ne(),i=h(s);i.__change=[ae,n,r],P(i,21,()=>t,Q,(v,l)=>{var c=te(),q={},O=h(c,!0);p(c),B(()=>{q!==(q=o(l).stats.name)&&(c.value=(c.__value=o(l).stats.name)==null?"":o(l).stats.name),w(O,o(l).stats.name)}),b(v,c)}),p(i);var g=x(i,2),$=h(g,!0);p(g);var m=x(g,2);p(s),B(()=>{w($,a().stats.name),T(m,"src",a().stats.imageUrl)}),Z(i,()=>o(r),v=>f(r,v)),b(e,s),H()}V(["change"]);var re=C('<div class="comparison-view mb svelte-gd52xe"><!> <!></div>');function se(e,n){var a=re(),r=h(a);N(r,{get engine(){return n.engine1},get onEngineChange(){return n.onEngineChange1}});var t=x(r,2);N(t,{get engine(){return n.engine2},get onEngineChange(){return n.onEngineChange2}}),p(a),b(e,a)}var oe=C("<!> <!>",1);function be(e,n){A(n,!0);const a=X(),r=()=>j(z,"$page",a);let t=k(u(d(r().params.engine1||""))),s=k(u(d(r().params.engine2||"")));const i=()=>{G(`/compare/${o(t).urlName}/${o(s).urlName}`)};W(()=>{!o(t)&&!o(s)?(f(t,u(E())),f(s,u(E())),i()):o(t)&&!o(s)&&(f(s,u(E())),i())});var y=oe();I(m=>{B(()=>{var v,l;return F.title=`${(((v=o(t))==null?void 0:v.stats.name)||"404")??""} | ${(((l=o(s))==null?void 0:l.stats.name)||"404")??""} - Rocket Engine Xplorer`})});var g=D(y);se(g,{get engine1(){return o(t)},get engine2(){return o(s)},onEngineChange1:m=>{f(t,u(d(m))),i()},onEngineChange2:m=>{f(s,u(d(m))),i()}});var $=x(g,2);J($,{}),b(e,y),H()}export{be as component};
