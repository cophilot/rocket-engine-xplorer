import{l as Y,f as Z,a as C,t as L}from"../chunks/disclose-version.BjaIHGDJ.js";import{aq as $,p as z,ar as F,t as I,a as G,i,c as b,s as l,a1 as p,r as d,k as ee,f as te,$ as ae}from"../chunks/runtime.D3EUBQNe.js";import{h as se}from"../chunks/svelte-head.CuEPRuyF.js";import{i as ne,p as U,a as o}from"../chunks/props.DeRfUPWP.js";import{s as re,a as ie}from"../chunks/store.DhRlqiu4.js";import{p as le}from"../chunks/stores.Dbvl_-qj.js";import{g as oe}from"../chunks/entry.BXnizfH1.js";import{s as ve,H as ue}from"../chunks/HomeButton.Dw-nFjeg.js";import{c as j,b as ce,e as ge,i as me,a as pe,g as x}from"../chunks/allEngines.DU7O3MaS.js";import{s as P}from"../chunks/render.DcgCetwY.js";import{s as de}from"../chunks/attributes.B6-yH2X6.js";import{S as h,U as w}from"../chunks/UnitView.BjRPXdP5.js";import{o as fe}from"../chunks/index-client.B8sCnZ0M.js";function J(t,a,e){if(t.multiple)return we(t,a);for(var n of t.options){var s=y(n);if(ne(s,a)){n.selected=!0;return}}(!e||a!==void 0)&&(t.selectedIndex=-1)}function _e(t,a){$(()=>{var e=new MutationObserver(()=>{var n=t.__value;J(t,n)});return e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function he(t,a,e=a){var n=!0;Y(t,"change",()=>{var s;if(t.multiple)s=[].map.call(t.querySelectorAll(":checked"),y);else{var r=t.querySelector(":checked");s=r&&y(r)}e(s)}),$(()=>{var s=a();if(J(t,s,n),n&&s===void 0){var r=t.querySelector(":checked");r!==null&&(s=y(r),e(s))}t.__value=s,n=!1}),_e(t)}function we(t,a){for(var e of t.options)e.selected=~a.indexOf(y(e))}function y(t){return"__value"in t?t.__value:t.value}var be=(t,a,e)=>a.onEngineChange(i(e)),je=L('<option class="svelte-143j59w"> </option>'),ye=L('<div><div class="engine-name glass svelte-143j59w"><select class="svelte-143j59w"></select></div> <h1 class="svelte-143j59w"> </h1> <img alt="" class="svelte-143j59w"> <p class="label svelte-143j59w">Origin</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Status</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">First Flight</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Propellant</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Cycle</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Specific Impulse</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Specific Impulse (Vac)</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Height</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Diameter</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Mass</p> <!></div>');function X(t,a){z(a,!0);let e=U(a,"engine",7),n=U(a,"comparisonEngine",7),s=U(a,"isFirst",3,!1);e()||e(j()),n()||n(j());let r=F(o(e().stats.name));const u=ce();var v=ye(),c=b(v),g=b(c);g.__change=[be,a,r],ge(g,21,()=>u,me,(M,S)=>{var _=je(),R={},W=b(_,!0);d(_),I(()=>{R!==(R=i(S).stats.name)&&(_.value=(_.__value=i(S).stats.name)==null?"":i(S).stats.name),P(W,i(S).stats.name)}),C(M,_)}),d(g),d(c);var m=l(c,2),E=b(m,!0);d(m);var V=l(m,2),k=l(V,4);h(k,{get myState(){return e().stats.country},noLabel:!0,noMarginTop:!0});var T=l(k,6);h(T,{get myState(){return e().stats.status},noLabel:!0,noMarginTop:!0});var q=l(T,6),K=ee(()=>new pe(e().stats.firstFlight));h(q,{get myState(){return i(K)},noLabel:!0,noMarginTop:!0});var B=l(q,6);h(B,{get myState(){return e().stats.propellant},noLabel:!0,noMarginTop:!0});var D=l(B,6);h(D,{get myState(){return e().stats.cycle},noLabel:!0,noMarginTop:!0});var H=l(D,6);w(H,{get unit(){return e().stats.specificImpulseSeaLevel},get compareUnit(){return n().stats.specificImpulseSeaLevel}});var N=l(H,6);w(N,{get unit(){return e().stats.specificImpulseVacuum},get compareUnit(){return n().stats.specificImpulseVacuum}});var O=l(N,6);w(O,{get unit(){return e().stats.height},get compareUnit(){return n().stats.height}});var A=l(O,6);w(A,{get unit(){return e().stats.diameter},get compareUnit(){return n().stats.diameter}});var Q=l(A,6);w(Q,{get unit(){return e().stats.massDry},get compareUnit(){return n().stats.massDry}}),d(v),I(()=>{ve(v,`${"comparison-box "+(s()?"first":"")} svelte-143j59w`),P(E,e().stats.name),de(V,"src",e().stats.imageUrl)}),he(g,()=>i(r),M=>p(r,M)),C(t,v),G()}Z(["change"]);var Ee=L('<div class="comparison-view mb svelte-gd52xe"><!> <!></div>');function Se(t,a){var e=Ee(),n=b(e);X(n,{get engine(){return a.engine1},get comparisonEngine(){return a.engine2},get onEngineChange(){return a.onEngineChange1},isFirst:!0});var s=l(n,2);X(s,{get engine(){return a.engine2},get comparisonEngine(){return a.engine1},get onEngineChange(){return a.onEngineChange2}}),d(e),C(t,e)}var xe=L("<!> <!>",1);function Ne(t,a){z(a,!0);const e=re(),n=()=>ie(le,"$page",e);let s=F(o(x(n().params.engine1||""))),r=F(o(x(n().params.engine2||"")));const u=()=>{oe(`/compare/${i(s).urlName}/${i(r).urlName}`)};fe(()=>{!i(s)&&!i(r)?(p(s,o(j())),p(r,o(j())),u()):i(s)&&!i(r)&&(p(r,o(j())),u())});var v=xe();se(f=>{I(()=>{var m,E;return ae.title=`${(((m=i(s))==null?void 0:m.stats.name)||"404")??""} | ${(((E=i(r))==null?void 0:E.stats.name)||"404")??""} - Rocket Engine Xplorer`})});var c=te(v);Se(c,{get engine1(){return i(s)},get engine2(){return i(r)},onEngineChange1:f=>{p(s,o(x(f))),u()},onEngineChange2:f=>{p(r,o(x(f))),u()}});var g=l(c,2);ue(g,{}),C(t,v),G()}export{Ne as component};
