import{l as ae,f as se,a as y,t as U}from"../chunks/disclose-version.8Z6J6Txc.js";import{al as G,p as J,am as k,t as L,a as K,h as r,c as h,s as i,a1 as M,r as m,k as w,f as ie,$ as re}from"../chunks/runtime.B4B8oso8.js";import{h as le}from"../chunks/svelte-head.CS6Y-3ip.js";import{i as oe,p as ve,a as b}from"../chunks/props.DSQppAkj.js";import{s as ue,a as ge}from"../chunks/store.DNzQC58N.js";import{p as ce}from"../chunks/stores.CHQB94ky.js";import{g as me}from"../chunks/entry.4hrdpgEP.js";import{s as de,H as fe}from"../chunks/HomeButton.DIzbKaHC.js";import{b as _e,e as pe,i as we,a as he,U as P,c as S}from"../chunks/allEngines.DY8MNee_.js";import{s as X}from"../chunks/render.CYpuV9p9.js";import{s as be}from"../chunks/attributes.CvN7qe0G.js";import{S as c,U as u,a as je}from"../chunks/StateUtils.DgXlfJkx.js";import{o as Ee}from"../chunks/index-client.Bv01lDln.js";function Q(t,e,n){if(t.multiple)return Ue(t,e);for(var s of t.options){var a=j(s);if(oe(a,e)){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Se(t,e){G(()=>{var n=new MutationObserver(()=>{var s=t.__value;Q(t,s)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function ye(t,e,n=e){var s=!0;ae(t,"change",()=>{var a;if(t.multiple)a=[].map.call(t.querySelectorAll(":checked"),j);else{var l=t.querySelector(":checked");a=l&&j(l)}n(a)}),G(()=>{var a=e();if(Q(t,a,s),s&&a===void 0){var l=t.querySelector(":checked");l!==null&&(a=j(l),n(a))}t.__value=a,s=!1}),Se(t)}function Ue(t,e){for(var n of t.options)n.selected=~e.indexOf(j(n))}function j(t){return"__value"in t?t.__value:t.value}var xe=(t,e,n)=>e.onEngineChange(r(n)),Ce=U('<option class="svelte-143j59w"> </option>'),ke=U('<div><div class="engine-name glass svelte-143j59w"><select class="svelte-143j59w"></select></div> <h1 class="svelte-143j59w"> </h1> <img alt="" class="svelte-143j59w"> <p class="label svelte-143j59w">Origin</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Status</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">First Flight</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Used in #Rockets</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Propellant</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Cycle</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Reusable</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Specific Impulse</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Specific Impulse (Vac)</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Height</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Diameter</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Mass</p> <!> <div class="line svelte-143j59w"></div> <p class="label svelte-143j59w">Cost</p> <!></div>');function z(t,e){J(e,!0);let n=ve(e,"isFirst",3,!1),s=k(b(e.engine.stats.name));const a=_e();var l=ke(),o=h(l),v=h(o);v.__change=[xe,e,s],pe(v,21,()=>a,we,(C,E)=>{var p=Ce(),A={},ne=h(p,!0);m(p),L(()=>{A!==(A=r(E).stats.name)&&(p.value=(p.__value=r(E).stats.name)==null?"":r(E).stats.name),X(ne,r(E).stats.name)}),y(C,p)}),m(v),m(o);var d=i(o,2),g=h(d,!0);m(d);var f=i(d,2),_=i(f,4);c(_,{get myState(){return e.engine.stats.country},noLabel:!0,noMarginTop:!0});var F=i(_,6);c(F,{get myState(){return e.engine.stats.status},noLabel:!0,noMarginTop:!0});var I=i(F,6),W=w(()=>new he(e.engine.stats.firstFlight));c(I,{get myState(){return r(W)},noLabel:!0,noMarginTop:!0});var T=i(I,6),Y=w(()=>e.engine.stats.rockets?new P(e.engine.stats.rockets.length,""):null),Z=w(()=>e.comparisonEngine.stats.rockets?new P(e.comparisonEngine.stats.rockets.length,""):null);u(T,{get unit(){return r(Y)},get compareUnit(){return r(Z)}});var V=i(T,6);c(V,{get myState(){return e.engine.stats.propellant},noLabel:!0,noMarginTop:!0});var O=i(V,6);c(O,{get myState(){return e.engine.stats.cycle},noLabel:!0,noMarginTop:!0});var R=i(O,6),$=w(()=>je.boolToState(e.engine.stats.reusable)||null);c(R,{get myState(){return r($)},noLabel:!0,noMarginTop:!0});var q=i(R,6);u(q,{get unit(){return e.engine.stats.specificImpulseSeaLevel},get compareUnit(){return e.comparisonEngine.stats.specificImpulseSeaLevel}});var B=i(q,6);u(B,{get unit(){return e.engine.stats.specificImpulseVacuum},get compareUnit(){return e.comparisonEngine.stats.specificImpulseVacuum}});var D=i(B,6);u(D,{get unit(){return e.engine.stats.height},get compareUnit(){return e.comparisonEngine.stats.height}});var H=i(D,6);u(H,{get unit(){return e.engine.stats.diameter},get compareUnit(){return e.comparisonEngine.stats.diameter}});var N=i(H,6);u(N,{get unit(){return e.engine.stats.massDry},get compareUnit(){return e.comparisonEngine.stats.massDry}});var ee=i(N,6),te=w(()=>e.engine.stats.cost||null);u(ee,{get unit(){return r(te)},get compareUnit(){return e.comparisonEngine.stats.cost}}),m(l),L(()=>{de(l,`${"comparison-box "+(n()?"first":"")} svelte-143j59w`),X(g,e.engine.stats.name),be(f,"src",e.engine.stats.imageUrl)}),ye(v,()=>r(s),C=>M(s,C)),y(t,l),K()}se(["change"]);var Le=U('<div class="comparison-view mb svelte-gd52xe"><!> <!></div>');function Me(t,e){var n=Le(),s=h(n);z(s,{get engine(){return e.engine1},get comparisonEngine(){return e.engine2},get onEngineChange(){return e.onEngineChange1},isFirst:!0});var a=i(s,2);z(a,{get engine(){return e.engine2},get comparisonEngine(){return e.engine1},get onEngineChange(){return e.onEngineChange2}}),m(n),y(t,n)}var Fe=U("<!> <!>",1);function ze(t,e){J(e,!0);const n=ue(),s=()=>ge(ce,"$page",n);let a=k(b(S(s().params.engine1||""))),l=k(b(S(s().params.engine2||"")));const o=()=>{me(`/compare/${r(a).urlName}/${r(l).urlName}`)};Ee(()=>{o()});var v=Fe();le(g=>{L(()=>{var f,_;return re.title=`${(((f=r(a))==null?void 0:f.stats.name)||"404")??""} | ${(((_=r(l))==null?void 0:_.stats.name)||"404")??""} - Rocket Engine Xplorer`})});var x=ie(v);Me(x,{get engine1(){return r(a)},get engine2(){return r(l)},onEngineChange1:g=>{M(a,b(S(g))),o()},onEngineChange2:g=>{M(l,b(S(g))),o()}});var d=i(x,2);fe(d,{}),y(t,v),K()}export{ze as component};
